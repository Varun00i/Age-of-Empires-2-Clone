// ============================================================
// Empires Risen - Building Definitions
// Complete registry of all building types
// ============================================================

import { BuildingStats, BuildingCategory, Age, ResourceType } from '../types';

export const BUILDINGS: Record<string, BuildingStats> = {
  // ===== TOWN CENTER =====
  townCenter: {
    id: 'townCenter',
    name: 'Town Center',
    category: BuildingCategory.TownCenter,
    hp: 2400,
    meleeArmor: 3,
    pierceArmor: 5,
    attack: 5,
    range: 6,
    lineOfSight: 8,
    buildTime: 150,
    cost: { food: 0, wood: 275, gold: 0, stone: 100 },
    size: { x: 4, y: 4 },
    age: Age.Dark,
    populationProvided: 5,
    garrisonCapacity: 15,
    trains: ['villager'],
    researches: ['loom', 'feudalAge', 'castleAge', 'imperialAge', 'wheelbarrow', 'handCart', 'townWatch', 'townPatrol'],
    isDropoff: [ResourceType.Food, ResourceType.Wood, ResourceType.Gold, ResourceType.Stone],
    description: 'Core building. Trains villagers, advances ages, drop-off point.',
    spriteKey: 'building_town_center',
  },

  // ===== ECONOMIC =====
  house: {
    id: 'house',
    name: 'House',
    category: BuildingCategory.Economic,
    hp: 900,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 2,
    buildTime: 25,
    cost: { food: 0, wood: 25, gold: 0, stone: 0 },
    size: { x: 2, y: 2 },
    age: Age.Dark,
    populationProvided: 5,
    description: 'Provides population space for 5 units.',
    spriteKey: 'building_house',
  },
  mill: {
    id: 'mill',
    name: 'Mill',
    category: BuildingCategory.Economic,
    hp: 1000,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 4,
    buildTime: 35,
    cost: { food: 0, wood: 100, gold: 0, stone: 0 },
    size: { x: 2, y: 2 },
    age: Age.Dark,
    isDropoff: [ResourceType.Food],
    researches: ['horseCollar', 'heavyPlow', 'cropRotation'],
    description: 'Food drop-off point. Researches farming upgrades.',
    spriteKey: 'building_mill',
  },
  lumberCamp: {
    id: 'lumberCamp',
    name: 'Lumber Camp',
    category: BuildingCategory.Economic,
    hp: 1000,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 4,
    buildTime: 35,
    cost: { food: 0, wood: 100, gold: 0, stone: 0 },
    size: { x: 2, y: 2 },
    age: Age.Dark,
    isDropoff: [ResourceType.Wood],
    researches: ['doubleBitAxe', 'bowSaw', 'twoManSaw'],
    description: 'Wood drop-off point. Researches wood-gathering upgrades.',
    spriteKey: 'building_lumber_camp',
  },
  miningCamp: {
    id: 'miningCamp',
    name: 'Mining Camp',
    category: BuildingCategory.Economic,
    hp: 1000,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 4,
    buildTime: 35,
    cost: { food: 0, wood: 100, gold: 0, stone: 0 },
    size: { x: 2, y: 2 },
    age: Age.Dark,
    isDropoff: [ResourceType.Gold, ResourceType.Stone],
    researches: ['goldMining', 'goldShaftMining', 'stoneMining', 'stoneShaftMining'],
    description: 'Gold/Stone drop-off. Researches mining upgrades.',
    spriteKey: 'building_mining_camp',
  },
  farm: {
    id: 'farm',
    name: 'Farm',
    category: BuildingCategory.Economic,
    hp: 480,
    meleeArmor: 0,
    pierceArmor: 0,
    lineOfSight: 1,
    buildTime: 15,
    cost: { food: 0, wood: 60, gold: 0, stone: 0 },
    size: { x: 2, y: 2 },
    age: Age.Dark,
    description: 'Food source. Villagers gather food here. Auto-reseed available.',
    spriteKey: 'building_farm',
  },
  fishTrap: {
    id: 'fishTrap',
    name: 'Fish Trap',
    category: BuildingCategory.Economic,
    hp: 50,
    meleeArmor: 0,
    pierceArmor: 0,
    lineOfSight: 1,
    buildTime: 40,
    cost: { food: 0, wood: 100, gold: 0, stone: 0 },
    size: { x: 1, y: 1 },
    age: Age.Feudal,
    description: 'Infinite food source on water for fishing ships.',
    spriteKey: 'building_fish_trap',
  },
  market: {
    id: 'market',
    name: 'Market',
    category: BuildingCategory.Economic,
    hp: 2100,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 6,
    buildTime: 60,
    cost: { food: 0, wood: 175, gold: 0, stone: 0 },
    size: { x: 3, y: 3 },
    age: Age.Feudal,
    trains: ['tradeCart'],
    researches: ['coinage', 'banking', 'caravan', 'guilds'],
    description: 'Buy/sell resources. Train trade carts. Send tributes.',
    spriteKey: 'building_market',
  },

  // ===== MILITARY =====
  barracks: {
    id: 'barracks',
    name: 'Barracks',
    category: BuildingCategory.Military,
    hp: 2000,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 5,
    buildTime: 50,
    cost: { food: 0, wood: 175, gold: 0, stone: 0 },
    size: { x: 3, y: 3 },
    age: Age.Dark,
    trains: ['militia', 'manAtArms', 'longSwordsman', 'twoHandedSwordsman', 'champion', 'spearman', 'pikeman', 'halberdier'],
    researches: ['supplies', 'squires', 'arson'],
    description: 'Trains infantry units.',
    spriteKey: 'building_barracks',
  },
  archeryRange: {
    id: 'archeryRange',
    name: 'Archery Range',
    category: BuildingCategory.Military,
    hp: 2000,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 6,
    buildTime: 50,
    cost: { food: 0, wood: 175, gold: 0, stone: 0 },
    size: { x: 3, y: 3 },
    age: Age.Feudal,
    trains: ['archer', 'crossbowman', 'arbalester', 'skirmisher', 'eliteSkirmisher', 'cavalryArcher', 'handCannoneer'],
    researches: ['thumbRing', 'parthianTactics'],
    description: 'Trains archer units.',
    spriteKey: 'building_archery_range',
  },
  stable: {
    id: 'stable',
    name: 'Stable',
    category: BuildingCategory.Military,
    hp: 2000,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 5,
    buildTime: 50,
    cost: { food: 0, wood: 175, gold: 0, stone: 0 },
    size: { x: 3, y: 3 },
    age: Age.Feudal,
    trains: ['scoutCavalry', 'lightCavalry', 'hussar', 'knight', 'cavalier', 'paladin', 'camelRider', 'battleElephant'],
    researches: ['bloodlines', 'husbandry'],
    description: 'Trains cavalry units.',
    spriteKey: 'building_stable',
  },
  siegeWorkshop: {
    id: 'siegeWorkshop',
    name: 'Siege Workshop',
    category: BuildingCategory.Military,
    hp: 2000,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 5,
    buildTime: 50,
    cost: { food: 0, wood: 200, gold: 0, stone: 0 },
    size: { x: 3, y: 3 },
    age: Age.Castle,
    trains: ['batteringRam', 'cappedRam', 'mangonel', 'onager', 'scorpion', 'bombardCannon'],
    description: 'Trains siege units.',
    spriteKey: 'building_siege_workshop',
  },
  dock: {
    id: 'dock',
    name: 'Dock',
    category: BuildingCategory.Military,
    hp: 1800,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 6,
    buildTime: 35,
    cost: { food: 0, wood: 150, gold: 0, stone: 0 },
    size: { x: 3, y: 3 },
    age: Age.Dark,
    trains: ['fishingShip', 'transportShip', 'galley', 'warGalley', 'galleon', 'fireGalley', 'demolitionRaft', 'cannonGalleon', 'tradeCog'],
    researches: ['gillnets', 'careening', 'dryDock', 'shipwright'],
    isDropoff: [ResourceType.Food],
    description: 'Trains naval units. Fishing ship drop-off.',
    spriteKey: 'building_dock',
  },

  // ===== DEFENSIVE =====
  outpost: {
    id: 'outpost',
    name: 'Outpost',
    category: BuildingCategory.Defensive,
    hp: 500,
    meleeArmor: 0,
    pierceArmor: 0,
    lineOfSight: 10,
    buildTime: 15,
    cost: { food: 0, wood: 25, gold: 0, stone: 5 },
    size: { x: 1, y: 1 },
    age: Age.Dark,
    description: 'Extended line of sight. No attack.',
    spriteKey: 'building_outpost',
  },
  palisadeWall: {
    id: 'palisadeWall',
    name: 'Palisade Wall',
    category: BuildingCategory.Defensive,
    hp: 250,
    meleeArmor: 0,
    pierceArmor: 4,
    lineOfSight: 2,
    buildTime: 6,
    cost: { food: 0, wood: 2, gold: 0, stone: 0 },
    size: { x: 1, y: 1 },
    age: Age.Dark,
    description: 'Cheap wall. Keeps enemies out early.',
    spriteKey: 'building_palisade_wall',
  },
  palisadeGate: {
    id: 'palisadeGate',
    name: 'Palisade Gate',
    category: BuildingCategory.Defensive,
    hp: 600,
    meleeArmor: 0,
    pierceArmor: 4,
    lineOfSight: 4,
    buildTime: 30,
    cost: { food: 0, wood: 20, gold: 0, stone: 0 },
    size: { x: 1, y: 4 },
    age: Age.Dark,
    description: 'Gate for palisade walls. Allows friendly passage.',
    spriteKey: 'building_palisade_gate',
  },
  stoneWall: {
    id: 'stoneWall',
    name: 'Stone Wall',
    category: BuildingCategory.Defensive,
    hp: 1800,
    meleeArmor: 8,
    pierceArmor: 10,
    lineOfSight: 2,
    buildTime: 10,
    cost: { food: 0, wood: 0, gold: 0, stone: 5 },
    size: { x: 1, y: 1 },
    age: Age.Feudal,
    description: 'Strong stone wall. Very durable.',
    spriteKey: 'building_stone_wall',
  },
  gate: {
    id: 'gate',
    name: 'Gate',
    category: BuildingCategory.Defensive,
    hp: 2750,
    meleeArmor: 6,
    pierceArmor: 10,
    lineOfSight: 6,
    buildTime: 70,
    cost: { food: 0, wood: 0, gold: 0, stone: 30 },
    size: { x: 1, y: 4 },
    age: Age.Feudal,
    description: 'Stone gate. Opens for friendly units.',
    spriteKey: 'building_gate',
  },
  watchTower: {
    id: 'watchTower',
    name: 'Watch Tower',
    category: BuildingCategory.Defensive,
    hp: 1020,
    meleeArmor: 1,
    pierceArmor: 7,
    attack: 5,
    range: 8,
    lineOfSight: 10,
    buildTime: 80,
    cost: { food: 0, wood: 0, gold: 0, stone: 125 },
    size: { x: 1, y: 1 },
    age: Age.Feudal,
    garrisonCapacity: 5,
    description: 'Defensive tower. Attacks nearby enemies.',
    spriteKey: 'building_watch_tower',
  },
  guardTower: {
    id: 'guardTower',
    name: 'Guard Tower',
    category: BuildingCategory.Defensive,
    hp: 1500,
    meleeArmor: 1,
    pierceArmor: 9,
    attack: 7,
    range: 8,
    lineOfSight: 10,
    buildTime: 80,
    cost: { food: 0, wood: 0, gold: 0, stone: 125 },
    size: { x: 1, y: 1 },
    age: Age.Castle,
    garrisonCapacity: 5,
    description: 'Upgraded tower. Better attack and armor.',
    spriteKey: 'building_guard_tower',
  },
  keep: {
    id: 'keep',
    name: 'Keep',
    category: BuildingCategory.Defensive,
    hp: 2250,
    meleeArmor: 2,
    pierceArmor: 11,
    attack: 10,
    range: 8,
    lineOfSight: 10,
    buildTime: 80,
    cost: { food: 0, wood: 0, gold: 0, stone: 125 },
    size: { x: 1, y: 1 },
    age: Age.Imperial,
    garrisonCapacity: 5,
    description: 'Elite tower. Devastating defensive structure.',
    spriteKey: 'building_keep',
  },
  bombardTower: {
    id: 'bombardTower',
    name: 'Bombard Tower',
    category: BuildingCategory.Defensive,
    hp: 2220,
    meleeArmor: 2,
    pierceArmor: 8,
    attack: 120,
    range: 8,
    lineOfSight: 10,
    buildTime: 80,
    cost: { food: 0, wood: 0, gold: 0, stone: 125 },
    size: { x: 1, y: 1 },
    age: Age.Imperial,
    description: 'Gunpowder tower. Massive damage.',
    spriteKey: 'building_bombard_tower',
  },
  castle: {
    id: 'castle',
    name: 'Castle',
    category: BuildingCategory.Defensive,
    hp: 4800,
    meleeArmor: 8,
    pierceArmor: 11,
    attack: 11,
    range: 8,
    lineOfSight: 11,
    buildTime: 200,
    cost: { food: 0, wood: 0, gold: 0, stone: 650 },
    size: { x: 4, y: 4 },
    age: Age.Castle,
    populationProvided: 20,
    garrisonCapacity: 20,
    trains: ['trebuchet'],
    researches: ['conscription', 'hoardings', 'sappers'],
    description: 'Powerful fortress. Trains unique units and trebuchets.',
    spriteKey: 'building_castle',
  },

  // ===== RELIGIOUS =====
  monastery: {
    id: 'monastery',
    name: 'Monastery',
    category: BuildingCategory.Religious,
    hp: 2100,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 5,
    buildTime: 40,
    cost: { food: 0, wood: 175, gold: 0, stone: 0 },
    size: { x: 3, y: 3 },
    age: Age.Castle,
    trains: ['monk'],
    researches: ['redemption', 'atonement', 'herbalMedicine', 'heresy', 'sanctity', 'fervor', 'illumination', 'blockPrinting', 'theocracy', 'faith'],
    description: 'Trains monks. Researches religious technologies.',
    spriteKey: 'building_monastery',
  },

  // ===== SPECIAL =====
  university: {
    id: 'university',
    name: 'University',
    category: BuildingCategory.Special,
    hp: 2100,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 5,
    buildTime: 60,
    cost: { food: 0, wood: 200, gold: 0, stone: 0 },
    size: { x: 3, y: 3 },
    age: Age.Castle,
    researches: ['masonry', 'architecture', 'ballistics', 'chemistry', 'fortifiedWall', 'guardTowerUpgrade', 'keepUpgrade', 'bombardTowerUpgrade', 'heatedShot', 'arrowslits', 'murderHoles', 'treadmillCrane', 'siegeEngineers'],
    description: 'Researches building upgrades and military technologies.',
    spriteKey: 'building_university',
  },
  blacksmith: {
    id: 'blacksmith',
    name: 'Blacksmith',
    category: BuildingCategory.Special,
    hp: 2100,
    meleeArmor: 0,
    pierceArmor: 7,
    lineOfSight: 5,
    buildTime: 40,
    cost: { food: 0, wood: 150, gold: 0, stone: 0 },
    size: { x: 3, y: 3 },
    age: Age.Feudal,
    researches: [
      'forgingInfantry', 'ironCastingInfantry', 'blastFurnaceInfantry',
      'scaleMailArmor', 'chainMailArmor', 'plateMailArmor',
      'fletching', 'bodkinArrow', 'bracer',
      'paddedArcherArmor', 'leatherArcherArmor', 'ringArcherArmor',
      'forgingCavalry', 'ironCastingCavalry', 'blastFurnaceCavalry',
      'scaleBardingArmor', 'chainBardingArmor', 'plateBardingArmor',
    ],
    description: 'Researches attack and armor upgrades for all military units.',
    spriteKey: 'building_blacksmith',
  },

  // ===== WONDER =====
  wonder: {
    id: 'wonder',
    name: 'Wonder',
    category: BuildingCategory.Wonder,
    hp: 4800,
    meleeArmor: 0,
    pierceArmor: 12,
    lineOfSight: 4,
    buildTime: 3500,
    cost: { food: 0, wood: 1000, gold: 1000, stone: 1000 },
    size: { x: 5, y: 5 },
    age: Age.Imperial,
    maxCount: 1,
    description: 'Win condition building. Survive to win!',
    spriteKey: 'building_wonder',
  },
};
